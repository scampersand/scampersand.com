@import "susy";
@import "partials/normalize";

/**
 - Reset
 */

blockquote, h1, h2, h3, h4, h5, h6, p, ul, li, fieldset {
    margin: 0;  
    padding: 0; 
}   

img {
    max-width: 100%;

    /* auto height preserves ratio when the image is scaled. */
    height: auto;
}

input, textarea {
    width: 100%;
}

input[type="submit"] {
    width: 33%;
}

/**
 - Vertical layout
 */

/* Force main to take at least the height of the viewport,
 * especially for applying a background color on the landing.
 * See http://stackoverflow.com/a/17555766/347386
 * but we're using body height 100% because nesting min-height doesn't work, see
 * http://stackoverflow.com/q/16043519/347386
 * The SO answer says using body height 100% will "leave a gap beneath the fold,
 * which is usually undesirable" but I couldn't find anything wrong.
 */
html, body {
    height: 100%;
}

main {
    position: relative;
    min-height: 100%;  // of body
    padding-bottom: 13em;  // sufficient for footer
}

footer {
    position: absolute;
    bottom: 0;
    width: 100%;
}

@import "partials/nav";
@import "partials/cards";
@import "partials/color";
@import "partials/type";
@import "partials/scale";

$susy: (
    // debug: (image: show),
    global-box-sizing: border-box,
    columns: 8,
);

@include border-box-sizing;

/**
 - Columns
 */

main {
    // from 16 base font size
    @include container(97.5em);
}

div.section-container {
    // from 16 base font size
    @include container(75em);

    padding-left: 1em;
    padding-right: 1em;

    @media (min-width: 30em) {
        padding-left: 1.5em;
        padding-right: 1.5em;
    }
}

div.proj-name {
    @media (min-width: 48em) {
        display: inline-block;
        width: span(6);
    }
}

div.proj-skills {
    @media (min-width: 48em) {
        display: inline-block;
    }
}

div.proj-solution {
    @include span(full);
}

div.proj-problem,
div.solution-text {
    @media (min-width: 48em) {
        @include span(5);
    }
}

div.contact-form {
    @media (min-width: 48em) {
        @include span(4);
        margin-bottom: gutter(8);
    }
}

div.contact-location,
div.contact-social {
    @media (min-width: 48em) {
        @include span(4 last);
    }
}

div.solution-features {
    @media (min-width: 48em) {
        @include span(2 last);
    }
}

p.intro {
    @media (min-width: 56em) {
        @include span(5);
    }
}

.cards {
    display: block;
    @media (min-width: 56em) {
        display: flex;
        flex-flow: row wrap;
        align-items: stretch;  /* default */
        justify-content: space-between;  /* equals gutter() */
    }
}

.card {
    display: block;
    margin-bottom: gutter();
    @media (min-width: 56em) {
        width: span(4);
    }
}

.bio-list,
.services-list,
.work-list {
    @extend .cards;
}

.bio-item,
.services-item,
.work-item {
    @extend .card;
}

li.bio-item,
li.work-item {
    /* bio images should always fill their container.
     * This allows img sizes attribute to affect what image
     * in the srcset is fetched, without affecting the
     * presentation. Possibly this should be a handled
     * globally somehow.
     */
    img {
        width: 100%;
    }
}

div.bio-photo,
div.work-photo {
    position: relative;
}

div.bio-overlay,
div.work-overlay {
    position: absolute;
    left: 1.5rem;
    bottom: 1.5rem;
}

/* clear any floated children in galleries */
div.section-sub:after {
    content: '';
    clear: both;
    display: block;
}
